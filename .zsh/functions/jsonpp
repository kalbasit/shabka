#
# vim:ft=zsh:
#

function jsonpp() {
  if [[ "${#}" -eq 0 ]]; then
    python -m json.tool | pygmentize -l javascript
  else
    local input_file="${1}"
    local output_file="${2}"
    if [[ -z "${output_file}" ]]; then
      output_file="`mktemp /tmp/jsonpp.XXXXXXXX`"
    fi

    python -m json.tool < "${input_file}" > "${output_file}" || return
    mv "${output_file}" "${input_file}"
  fi
}
